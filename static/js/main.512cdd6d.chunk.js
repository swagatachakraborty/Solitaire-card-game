(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,a,t){e.exports=t(17)},16:function(e,a,t){},17:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(8),s=t.n(i),c=t(9),l=t(2),d=t(3),o=t(6),u=t(4),h=t(5),m=t(1),v=function(e,a){var t="black-card";"&#9829;"!==e&&"&#9830;"!==e||(t="red-card");var n=a;return isNaN(n)&&(n={A:1,J:11,Q:12,K:13}[a]),{value:a,suit:e,rank:n,color:t,display:!1,key:"".concat(e,"-").concat(a)}},f=function(){return["&#9824;","&#9827;","&#9829;","&#9830;"].reduce(function(e,a){return e.concat(function(e){for(var a=["A","K","Q","J"].map(v.bind(null,e)),t=2;t<=10;t++)a.push(v(e,t.toString()));return a}(a))},[])},w=function(){function e(){Object(l.a)(this,e),this.wastePileCardsStrenth=28,this.faceDownDeckCardCount=24,this.allCards=f(),this.faceDownDeck=this.getRandomCards(this.allCards,24),this.wastePile=this.setupWastePile(this.allCards)}return Object(d.a)(e,[{key:"getRandomCards",value:function(e){for(var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=[],n=1;n<=a;n++){var r=parseInt(Math.random()*e.length),i=e.splice(r,1);t=t.concat(i)}return t}},{key:"setupWastePile",value:function(e){for(var a=[],t=1;t<=7;t++){var n=this.getRandomCards(e,t);n[n.length-1].display=!0,a.push(n)}return a}},{key:"getWastePiles",value:function(){return this.wastePile}},{key:"getFeceDownDeck",value:function(){return this.faceDownDeck}}]),e}(),p=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(u.a)(a).call(this,e))).suit=e.suit,t.value=e.value,t.index=e.cardIndex,t.onDrag=e.onDrag,t.id=t.suit+"-"+t.value+"-"+t.index+"-"+e.pileIndex,t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"getClasses",value:function(e){var a=e.display?e.colorClass:"face-down",t="waste-pile-card";return/f/.test(e.pileIndex)&&(t="foundation-card"),/deck/.test(e.pileIndex)&&(t="deck-card"),a+" "+t}},{key:"getCardHeaderView",value:function(){return r.a.createElement("div",{className:"card-header",id:this.id},this.value)}},{key:"getCardCenterView",value:function(){return r.a.createElement("div",{className:"card-center",id:this.id,dangerouslySetInnerHTML:{__html:"".concat(this.suit)}})}},{key:"getCardFooterView",value:function(){return r.a.createElement("div",{className:"card-footer",id:this.id},this.value)}},{key:"render",value:function(){return r.a.createElement("div",{id:this.id,className:"card ".concat(this.getClasses(this.props)),draggable:!0,onDragStart:this.onDrag},this.getCardHeaderView(),this.getCardCenterView(),this.getCardFooterView())}}]),a}(n.Component),k=function(e,a,t,n){var r=e.slice()[t];if(!r.display)return!1;var i=a.slice(-1).pop();return/f/.test(n)?!(e.slice(t).length>1)&&function(e,a){return void 0===a?1===e.rank:e.suit===a.suit&&e.rank-a.rank===1}(r,i):function(e,a){return void 0===a?13===e.rank:e.color!==a.color&&a.rank-e.rank===1}(r,i)},C=(t(16),new w),g=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(o.a)(this,Object(u.a)(a).call(this,e))).state={hasGameEnded:!1,wastePiles:C.getWastePiles(),drawnCards:[],foundations:[[],[],[],[]],faceDownDeck:C.getFeceDownDeck()},t.timer=0,t.drop=t.drop.bind(Object(m.a)(Object(m.a)(t))),t.addCardToPile=t.addCardToPile.bind(Object(m.a)(Object(m.a)(t))),t.removeCardFromPile=t.removeCardFromPile.bind(Object(m.a)(Object(m.a)(t))),t.createCardsView=t.createCardsView.bind(Object(m.a)(Object(m.a)(t))),t.drawCard=t.drawCard.bind(Object(m.a)(Object(m.a)(t))),t.createFoundationView=t.createFoundationView.bind(Object(m.a)(Object(m.a)(t))),t.startGame(),t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"createCard",value:function(e,a,t){return r.a.createElement(p,{suit:e.suit,value:e.value,colorClass:e.color,display:e.display,key:e.key,onDrag:this.removeCardFromPile,pileIndex:t,cardIndex:a})}},{key:"createCardsView",value:function(e,a){var t=this;if(0!==e.length)return e[e.length-1].display=!0,e.map(function(e,n){return t.createCard(e,n,a)})}},{key:"createWastePileView",value:function(e){return r.a.createElement("div",{className:"waste-pile-section"},r.a.createElement("div",{className:"waste-pile",id:e,onDragOver:this.addCardToPile,onDrop:this.drop},this.createCardsView(this.state.wastePiles[e],e)))}},{key:"createFoundationView",value:function(e){return r.a.createElement("div",{className:"foundation",id:"foundation-f".concat(e),onDragOver:this.addCardToPile,onDrop:this.drop},this.createCardsView(this.state.foundations[e],"f"+e))}},{key:"refillDeck",value:function(){this.setState(function(e){return e.faceDownDeck=e.drawnCards.slice().reverse(),e.drawnCards=[],e})}},{key:"drawCard",value:function(){0!==this.state.faceDownDeck.length?this.setState(function(e){return e.drawnCards.push(e.faceDownDeck.pop()),e}):this.refillDeck()}},{key:"removeCardFromPile",value:function(e){e.dataTransfer.setData("card",e.target.id)}},{key:"addCardToPile",value:function(e){e.preventDefault()}},{key:"handleDragAcrossPiles",value:function(e,a,t){this.setState(function(n){return e.splice(t).forEach(function(e){return a.push(e)}),n})}},{key:"drop",value:function(e){e.preventDefault();var a=e.dataTransfer.getData("card").split("-"),t=Object(c.a)(a,4),n=t[2],r=t[3],i=e.target.id.split("-").pop(),s=this.getPileByIndex(r),l=this.getPileByIndex(i);k(s,l,n,i)&&this.handleDragAcrossPiles(s,l,n)}},{key:"getPileByIndex",value:function(e){return isNaN(e)?/deck/.test(e)?this.state.drawnCards:/f/.test(e)?this.state.foundations[e[1]]:void 0:this.state.wastePiles[e]}},{key:"startGame",value:function(){var e=this,a=setInterval(function(){e.timer++,e.hasGameEnd()&&(clearInterval(a),e.setState({hasGameEnded:!0}))},1e3)}},{key:"hasGameEnd",value:function(){return this.state.foundations.every(function(e){return 13===e.length})}},{key:"render",value:function(){return this.state.hasGameEnded?r.a.createElement("main",null,r.a.createElement("div",{className:"end-game"},r.a.createElement("h1",null,"Congratulations !!!"),r.a.createElement("p",null,"You took ",this.timer/60," minutes to finish the game."),r.a.createElement("p",null,"Wanna play again ?"),r.a.createElement("h3",null,r.a.createElement("a",{href:"https://swagatachakraborty.github.io/Solitaire-card-game/",className:"btn"},"PLAY")))):r.a.createElement("main",null,r.a.createElement("div",{className:"foundation-and-deck-section"},r.a.createElement("div",{className:"deck-section"},r.a.createElement("div",{className:"face-down-deck",onClick:this.drawCard}),r.a.createElement("div",{className:"drawn-card-section"},this.createCardsView(this.state.drawnCards,"deck"))),r.a.createElement("div",{className:"foundation-section"},this.createFoundationView(0),this.createFoundationView(1),this.createFoundationView(2),this.createFoundationView(3))),r.a.createElement("div",{className:"separator"}),r.a.createElement("div",{className:"waste-pile-section"},r.a.createElement("div",{className:"place-holder"},this.createWastePileView(0)),r.a.createElement("div",{className:"place-holder"},this.createWastePileView(1)),r.a.createElement("div",{className:"place-holder"},this.createWastePileView(2)),r.a.createElement("div",{className:"place-holder"},this.createWastePileView(3)),r.a.createElement("div",{className:"place-holder"},this.createWastePileView(4)),r.a.createElement("div",{className:"place-holder"},this.createWastePileView(5)),r.a.createElement("div",{className:"place-holder"},this.createWastePileView(6))))}}]),a}(n.Component);s.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.512cdd6d.chunk.js.map