{"version":3,"sources":["media/congratulations.png","deckGenerator.js","deck.js","card.js","App.js","validations.js","index.js"],"names":["module","exports","__webpack_require__","p","createCard","suit","value","color","rank","isNaN","A","J","Q","K","display","key","concat","createFullDeck","reduce","init","deck","map","bind","push","toString","createSuitDeck","Deck","Object","classCallCheck","this","wastePileCardsStrenth","faceDownDeckCardCount","allCards","faceDownDeck","getRandomCards","wastePile","setupWastePile","count","arguments","length","undefined","cards","cardCount","randomIndex","parseInt","Math","random","randomCard","splice","pileCount","pile","Card","props","_this","possibleConstructorReturn","getPrototypeOf","call","index","cardIndex","onDrag","onDblClick","id","pileIndex","class1","colorClass","class2","test","react_default","a","createElement","className","dangerouslySetInnerHTML","__html","getClasses","draggable","onDragStart","onDoubleClick","getCardHeaderView","getCardCenterView","getCardFooterView","Component","App","state","hasGameEnded","wastePiles","getWastePiles","drawnCards","foundations","getFeceDownDeck","timer","drop","assertThisInitialized","addCardToPile","removeCardFromPile","createCardsView","drawCard","createFoundationView","addCardToFoundation","startGame","cardDetail","card","_this2","onDragOver","onDrop","foundationIndex","setState","slice","reverse","pop","refillDeck","event","dataTransfer","setData","target","preventDefault","_event$target$id$spli","split","_event$target$id$spli2","slicedToArray","sourceSuit","sourceRank","sourceCardIndex","sourcePileIndex","destinationPileIndex","forEach","foundation","_foundation","isValidDoubleClick","destinationPile","getPileByIndex","sourcePile","handleDragAcrossPiles","_sourceCardId$split","getData","_sourceCardId$split2","sourceCard","destinationCard","validateDragToFoundation","validateDragToWastePile","isValidDrag","_this3","timerId","setInterval","hasGameEnd","clearInterval","every","src","greeting","alt","round","href","onClick","createWastePileView","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.5f00635b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/congratulations.65335b1c.png\";","const SPADE = '&#9824;';\nconst CLUB = '&#9827;';\nconst HEART = '&#9829;';\nconst DIAMOND = '&#9830;';\n\nconst createCard = function(suit, value) {\n  const rankMap = {\n    A: 1,\n    J: 11,\n    Q: 12,\n    K: 13\n  };\n\n  let color = 'black-card';\n  if (suit === HEART || suit === DIAMOND) color = 'red-card';\n\n  let rank = value;\n  if (isNaN(rank)) rank = rankMap[value];\n  return { value, suit, rank, color, display: false, key: `${suit}-${value}` };\n};\n\nconst createSuitDeck = function(suit) {\n  const deck = ['A', 'K', 'Q', 'J'].map(createCard.bind(null, suit));\n  for (let value = 2; value <= 10; value++) {\n    deck.push(createCard(suit, value.toString()));\n  }\n  return deck;\n};\n\nconst createFullDeck = function() {\n  const SUITS = [SPADE, CLUB, HEART, DIAMOND];\n  const fullDeck = SUITS.reduce((init, suit) => {\n    return init.concat(createSuitDeck(suit));\n  }, []);\n  return fullDeck;\n};\n\nexport default createFullDeck;\n","import createFullDeck from './deckGenerator';\n\nclass Deck {\n  constructor() {\n    this.wastePileCardsStrenth = 28;\n    this.faceDownDeckCardCount = 24;\n    this.allCards = createFullDeck();\n    this.faceDownDeck = this.getRandomCards(this.allCards, 24);\n    this.wastePile = this.setupWastePile(this.allCards);\n  }\n\n  getRandomCards(allCards, count = 1) {\n    let cards = [];\n    for (let cardCount = 1; cardCount <= count; cardCount++) {\n      const randomIndex = parseInt(Math.random() * allCards.length);\n      const randomCard = allCards.splice(randomIndex, 1);\n      cards = cards.concat(randomCard);\n    }\n    return cards;\n  }\n\n  setupWastePile(allCards) {\n    const wastePile = [];\n    for (let pileCount = 1; pileCount <= 7; pileCount++) {\n      const pile = this.getRandomCards(allCards, pileCount);\n      pile[pile.length - 1].display = true;\n      wastePile.push(pile);\n    }\n    return wastePile;\n  }\n\n  getWastePiles() {\n    return this.wastePile;\n  }\n\n  getFeceDownDeck() {\n    return this.faceDownDeck;\n  }\n}\n\nexport default Deck;\n","import React, { Component } from 'react';\n\nclass Card extends Component {\n  constructor(props) {\n    super(props);\n    this.suit = props.suit;\n    this.value = props.value;\n    this.rank = props.rank;\n    this.index = props.cardIndex;\n    this.onDrag = props.onDrag;\n    this.onDblClick = props.onDblClick;\n    this.id =\n      this.suit + '-' + this.rank + '-' + this.index + '-' + props.pileIndex;\n  }\n\n  getClasses(props) {\n    const class1 = props.display ? props.colorClass : 'face-down';\n    let class2 = 'waste-pile-card';\n\n    if (/f/.test(props.pileIndex)) class2 = 'foundation-card';\n    if (/deck/.test(props.pileIndex)) class2 = 'deck-card';\n\n    return class1 + ' ' + class2;\n  }\n\n  getCardHeaderView() {\n    return (\n      <div className=\"card-header\" id={this.id}>\n        {this.value}\n      </div>\n    );\n  }\n\n  getCardCenterView() {\n    return (\n      <div\n        className=\"card-center\"\n        id={this.id}\n        dangerouslySetInnerHTML={{ __html: `${this.suit}` }}\n      />\n    );\n  }\n\n  getCardFooterView() {\n    return (\n      <div className=\"card-footer\" id={this.id}>\n        {this.value}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div\n        id={this.id}\n        className={`card ${this.getClasses(this.props)}`}\n        draggable={true}\n        onDragStart={this.onDrag}\n        onDoubleClick={this.onDblClick}\n      >\n        {this.getCardHeaderView()}\n        {this.getCardCenterView()}\n        {this.getCardFooterView()}\n      </div>\n    );\n  }\n}\n\nexport default Card;\n","import React, { Component } from 'react';\nimport Deck from './deck';\nimport Card from './card';\nimport { isValidDrag, isValidDoubleClick } from './validations';\nimport greeting from './media/congratulations.png';\nimport './App.css';\n\nconst deck = new Deck();\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hasGameEnded: false,\n      wastePiles: deck.getWastePiles(),\n      drawnCards: [],\n      foundations: [[], [], [], []],\n      faceDownDeck: deck.getFeceDownDeck()\n    };\n\n    this.timer = 0;\n    this.drop = this.drop.bind(this);\n    this.addCardToPile = this.addCardToPile.bind(this);\n    this.removeCardFromPile = this.removeCardFromPile.bind(this);\n    this.createCardsView = this.createCardsView.bind(this);\n    this.drawCard = this.drawCard.bind(this);\n    this.createFoundationView = this.createFoundationView.bind(this);\n    this.addCardToFoundation = this.addCardToFoundation.bind(this);\n\n    this.startGame();\n  }\n\n  createCard(cardDetail, index, pileIndex) {\n    return (\n      <Card\n        suit={cardDetail.suit}\n        value={cardDetail.value}\n        rank={cardDetail.rank}\n        colorClass={cardDetail.color}\n        display={cardDetail.display}\n        key={cardDetail.key}\n        onDrag={this.removeCardFromPile}\n        onDblClick={this.addCardToFoundation}\n        pileIndex={pileIndex}\n        cardIndex={index}\n      />\n    );\n  }\n\n  createCardsView(cards, pileIndex) {\n    if (cards.length === 0) return;\n    cards[cards.length - 1].display = true;\n    return cards.map((card, index) => this.createCard(card, index, pileIndex));\n  }\n\n  createWastePileView(pileIndex) {\n    return (\n      <div className=\"waste-pile-section\">\n        <div\n          className=\"waste-pile\"\n          id={pileIndex}\n          onDragOver={this.addCardToPile}\n          onDrop={this.drop}\n        >\n          {this.createCardsView(this.state.wastePiles[pileIndex], pileIndex)}\n        </div>\n      </div>\n    );\n  }\n\n  createFoundationView(foundationIndex) {\n    return (\n      <div\n        className=\"foundation\"\n        id={`foundation-f${foundationIndex}`}\n        onDragOver={this.addCardToPile}\n        onDrop={this.drop}\n      >\n        {this.createCardsView(\n          this.state.foundations[foundationIndex],\n          'f' + foundationIndex\n        )}\n      </div>\n    );\n  }\n\n  refillDeck() {\n    this.setState(state => {\n      state.faceDownDeck = state.drawnCards.slice().reverse();\n      state.drawnCards = [];\n      return state;\n    });\n  }\n\n  drawCard() {\n    if (this.state.faceDownDeck.length === 0) {\n      this.refillDeck();\n      return;\n    }\n\n    this.setState(state => {\n      state.drawnCards.push(state.faceDownDeck.pop());\n      return state;\n    });\n  }\n\n  removeCardFromPile(event) {\n    event.dataTransfer.setData('card', event.target.id);\n  }\n\n  addCardToPile(event) {\n    event.preventDefault();\n  }\n\n  addCardToFoundation(event) {\n    const [\n      sourceSuit,\n      sourceRank,\n      sourceCardIndex,\n      sourcePileIndex\n    ] = event.target.id.split('-');\n\n    const destinationPileIndex = isValidDoubleClick(\n      this.state.foundations,\n      sourceSuit,\n      sourceRank\n    );\n\n    if (!destinationPileIndex) return;\n\n    const destinationPile = this.getPileByIndex(destinationPileIndex);\n    const sourcePile = this.getPileByIndex(sourcePileIndex);\n    this.handleDragAcrossPiles(sourcePile, destinationPile, sourceCardIndex);\n  }\n\n  handleDragAcrossPiles(sourcePile, destinationPile, sourceCardIndex) {\n    this.setState(state => {\n      const movedCards = sourcePile.splice(sourceCardIndex);\n      movedCards.forEach(card => destinationPile.push(card));\n      return state;\n    });\n  }\n\n  drop(event) {\n    event.preventDefault();\n    const sourceCardId = event.dataTransfer.getData('card');\n    const [, , sourceCardIndex, sourcePileIndex] = sourceCardId.split('-');\n    const destinationId = event.target.id;\n    const destinationPileIndex = destinationId.split('-').pop();\n\n    const sourcePile = this.getPileByIndex(sourcePileIndex);\n    const destinationPile = this.getPileByIndex(destinationPileIndex);\n\n    if (\n      !isValidDrag(\n        sourcePile,\n        destinationPile,\n        sourceCardIndex,\n        destinationPileIndex\n      )\n    )\n      return;\n\n    this.handleDragAcrossPiles(sourcePile, destinationPile, sourceCardIndex);\n  }\n\n  getPileByIndex(pileIndex) {\n    if (!isNaN(pileIndex)) return this.state.wastePiles[pileIndex];\n\n    if (/deck/.test(pileIndex)) return this.state.drawnCards;\n\n    if (/f/.test(pileIndex)) return this.state.foundations[pileIndex[1]];\n  }\n\n  startGame() {\n    const timerId = setInterval(() => {\n      this.timer++;\n\n      if (this.hasGameEnd()) {\n        clearInterval(timerId);\n        this.setState({ hasGameEnded: true });\n      }\n    }, 1000);\n  }\n\n  hasGameEnd() {\n    return this.state.foundations.every(foundation => foundation.length === 13);\n  }\n\n  render() {\n    if (this.state.hasGameEnded) {\n      return (\n        <main>\n          <div className=\"end-game\">\n            <img src={greeting} alt=\"Congratulations !!!\" />\n            <h1>Nice !!!</h1>\n            <p>\n              You took {Math.round(this.timer / 60)} minutes to finish the game.\n            </p>\n            <p>Wanna play again ?</p>\n            <h3>\n              <a\n                href=\"https://swagatachakraborty.github.io/Solitaire-card-game/\"\n                className=\"btn\"\n              >\n                PLAY\n              </a>\n            </h3>\n          </div>\n        </main>\n      );\n    }\n\n    return (\n      <main>\n        <div className=\"foundation-and-deck-section\">\n          <div className=\"deck-section\">\n            <div className=\"face-down-deck\" onClick={this.drawCard} />\n            <div className=\"drawn-card-section\">\n              {this.createCardsView(this.state.drawnCards, 'deck')}\n            </div>\n          </div>\n\n          <div className=\"foundation-section\">\n            {this.createFoundationView(0)}\n            {this.createFoundationView(1)}\n            {this.createFoundationView(2)}\n            {this.createFoundationView(3)}\n          </div>\n        </div>\n\n        <div className=\"separator\" />\n\n        <div className=\"waste-pile-section\">\n          <div className=\"place-holder\">{this.createWastePileView(0)}</div>\n          <div className=\"place-holder\">{this.createWastePileView(1)}</div>\n          <div className=\"place-holder\">{this.createWastePileView(2)}</div>\n          <div className=\"place-holder\">{this.createWastePileView(3)}</div>\n          <div className=\"place-holder\">{this.createWastePileView(4)}</div>\n          <div className=\"place-holder\">{this.createWastePileView(5)}</div>\n          <div className=\"place-holder\">{this.createWastePileView(6)}</div>\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default App;\n","const validateDragToWastePile = function(sourceCard, destinationCard) {\n  if (destinationCard === undefined) return sourceCard.rank === 13;\n\n  if (sourceCard.color === destinationCard.color) return false;\n\n  if (destinationCard.rank - sourceCard.rank !== 1) return false;\n\n  return true;\n};\n\nconst validateDragToFoundation = function(sourceCard, destinationCard) {\n  if (destinationCard === undefined) return sourceCard.rank === 1;\n\n  if (sourceCard.suit !== destinationCard.suit) return false;\n\n  if (sourceCard.rank - destinationCard.rank !== 1) return false;\n\n  return true;\n};\n\nconst isValidDrag = function(\n  sourcePile,\n  destinationPile,\n  sourceCardIndex,\n  destinationPileIndex\n) {\n  const sourceCard = sourcePile.slice()[sourceCardIndex];\n  if (!sourceCard.display) return false;\n  const destinationCard = destinationPile.slice(-1).pop();\n\n  if (/f/.test(destinationPileIndex)) {\n    if (sourcePile.slice(sourceCardIndex).length > 1) return false;\n    return validateDragToFoundation(sourceCard, destinationCard);\n  }\n\n  return validateDragToWastePile(sourceCard, destinationCard);\n};\n\nconst isValidDoubleClick = function(foundations, sourceSuit, sourceRank) {\n  let destinationPileIndex = '';\n\n  foundations.forEach((foundation, index) => {\n    if (foundation.length === 0) return false;\n\n    const { suit, rank } = foundation[foundation.length - 1];\n\n    if (suit === sourceSuit && rank == sourceRank - 1)\n      destinationPileIndex = 'f' + index;\n  });\n\n  return destinationPileIndex;\n};\n\nexport { isValidDrag, isValidDoubleClick };\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}