{"version":3,"sources":["deckGenerator.js","deck.js","card.js","validations.js","App.js","index.js"],"names":["createCard","suit","value","color","rank","isNaN","A","J","Q","K","display","key","concat","createFullDeck","reduce","init","deck","map","bind","push","toString","createSuitDeck","Deck","Object","classCallCheck","this","wastePileCardsStrenth","faceDownDeckCardCount","allCards","faceDownDeck","getRandomCards","wastePile","setupWastePile","count","arguments","length","undefined","cards","cardCount","randomIndex","parseInt","Math","random","randomCard","splice","pileCount","pile","Card","props","_this","possibleConstructorReturn","getPrototypeOf","call","index","cardIndex","onDrag","id","pileIndex","class1","colorClass","class2","test","react_default","a","createElement","className","dangerouslySetInnerHTML","__html","getClasses","draggable","onDragStart","getCardHeaderView","getCardCenterView","getCardFooterView","Component","isValidDrag","sourcePile","destinationPile","sourceCardIndex","destinationPileIndex","sourceCard","slice","destinationCard","pop","validateDragToFoundation","validateDragToWastePile","App","state","hasGameEnded","wastePiles","getWastePiles","drawnCards","foundations","getFeceDownDeck","timer","drop","assertThisInitialized","addCardToPile","removeCardFromPile","createCardsView","drawCard","createFoundationView","startGame","cardDetail","card","_this2","onDragOver","onDrop","foundationIndex","setState","reverse","refillDeck","event","dataTransfer","setData","target","preventDefault","forEach","_sourceCardId$split","getData","split","_sourceCardId$split2","slicedToArray","sourcePileIndex","getPileByIndex","handleDragAcrossPiles","_this3","timerId","setInterval","hasGameEnd","clearInterval","every","foundation","href","onClick","createWastePileView","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.512cdd6d.chunk.js","sourcesContent":["const SPADE = '&#9824;';\nconst CLUB = '&#9827;';\nconst HEART = '&#9829;';\nconst DIAMOND = '&#9830;';\n\nconst createCard = function(suit, value) {\n  const rankMap = {\n    A: 1,\n    J: 11,\n    Q: 12,\n    K: 13\n  };\n\n  let color = 'black-card';\n  if (suit === HEART || suit === DIAMOND) color = 'red-card';\n\n  let rank = value;\n  if (isNaN(rank)) rank = rankMap[value];\n  return { value, suit, rank, color, display: false, key: `${suit}-${value}` };\n};\n\nconst createSuitDeck = function(suit) {\n  const deck = ['A', 'K', 'Q', 'J'].map(createCard.bind(null, suit));\n  for (let value = 2; value <= 10; value++) {\n    deck.push(createCard(suit, value.toString()));\n  }\n  return deck;\n};\n\nconst createFullDeck = function() {\n  const SUITS = [SPADE, CLUB, HEART, DIAMOND];\n  const fullDeck = SUITS.reduce((init, suit) => {\n    return init.concat(createSuitDeck(suit));\n  }, []);\n  return fullDeck;\n};\n\nexport default createFullDeck;\n","import createFullDeck from './deckGenerator';\n\nclass Deck {\n  constructor() {\n    this.wastePileCardsStrenth = 28;\n    this.faceDownDeckCardCount = 24;\n    this.allCards = createFullDeck();\n    this.faceDownDeck = this.getRandomCards(this.allCards, 24);\n    this.wastePile = this.setupWastePile(this.allCards);\n  }\n\n  getRandomCards(allCards, count = 1) {\n    let cards = [];\n    for (let cardCount = 1; cardCount <= count; cardCount++) {\n      const randomIndex = parseInt(Math.random() * allCards.length);\n      const randomCard = allCards.splice(randomIndex, 1);\n      cards = cards.concat(randomCard);\n    }\n    return cards;\n  }\n\n  setupWastePile(allCards) {\n    const wastePile = [];\n    for (let pileCount = 1; pileCount <= 7; pileCount++) {\n      const pile = this.getRandomCards(allCards, pileCount);\n      pile[pile.length - 1].display = true;\n      wastePile.push(pile);\n    }\n    return wastePile;\n  }\n\n  getWastePiles() {\n    return this.wastePile;\n  }\n\n  getFeceDownDeck() {\n    return this.faceDownDeck;\n  }\n}\n\nexport default Deck;\n","import React, { Component } from 'react';\n\nclass Card extends Component {\n  constructor(props) {\n    super(props);\n    this.suit = props.suit;\n    this.value = props.value;\n    this.index = props.cardIndex;\n    this.onDrag = props.onDrag;\n    this.id =\n      this.suit + '-' + this.value + '-' + this.index + '-' + props.pileIndex;\n  }\n\n  getClasses(props) {\n    const class1 = props.display ? props.colorClass : 'face-down';\n    let class2 = 'waste-pile-card';\n\n    if (/f/.test(props.pileIndex)) class2 = 'foundation-card';\n    if (/deck/.test(props.pileIndex)) class2 = 'deck-card';\n\n    return class1 + ' ' + class2;\n  }\n\n  getCardHeaderView() {\n    return (\n      <div className=\"card-header\" id={this.id}>\n        {this.value}\n      </div>\n    );\n  }\n\n  getCardCenterView() {\n    return (\n      <div\n        className=\"card-center\"\n        id={this.id}\n        dangerouslySetInnerHTML={{ __html: `${this.suit}` }}\n      />\n    );\n  }\n\n  getCardFooterView() {\n    return (\n      <div className=\"card-footer\" id={this.id}>\n        {this.value}\n      </div>\n    );\n  }\n\n  render() {\n    return (\n      <div\n        id={this.id}\n        className={`card ${this.getClasses(this.props)}`}\n        draggable={true}\n        onDragStart={this.onDrag}\n      >\n        {this.getCardHeaderView()}\n        {this.getCardCenterView()}\n        {this.getCardFooterView()}\n      </div>\n    );\n  }\n}\n\nexport default Card;\n","const validateDragToWastePile = function(sourceCard, destinationCard) {\n  if (destinationCard === undefined) return sourceCard.rank === 13;\n\n  if (sourceCard.color === destinationCard.color) return false;\n\n  if (destinationCard.rank - sourceCard.rank !== 1) return false;\n\n  return true;\n};\n\nconst validateDragToFoundation = function(sourceCard, destinationCard) {\n  if (destinationCard === undefined) return sourceCard.rank === 1;\n\n  if (sourceCard.suit !== destinationCard.suit) return false;\n\n  if (sourceCard.rank - destinationCard.rank !== 1) return false;\n\n  return true;\n};\n\nconst isValidDrag = function(\n  sourcePile,\n  destinationPile,\n  sourceCardIndex,\n  destinationPileIndex\n) {\n  const sourceCard = sourcePile.slice()[sourceCardIndex];\n  if (!sourceCard.display) return false;\n  const destinationCard = destinationPile.slice(-1).pop();\n\n  if (/f/.test(destinationPileIndex)) {\n    if (sourcePile.slice(sourceCardIndex).length > 1) return false;\n    return validateDragToFoundation(sourceCard, destinationCard);\n  }\n\n  return validateDragToWastePile(sourceCard, destinationCard);\n};\n\nexport default isValidDrag;\n","import React, { Component } from 'react';\nimport Deck from './deck';\nimport Card from './card';\nimport isValidDrag from './validations';\nimport './App.css';\n\nconst deck = new Deck();\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hasGameEnded: false,\n      wastePiles: deck.getWastePiles(),\n      drawnCards: [],\n      foundations: [[], [], [], []],\n      faceDownDeck: deck.getFeceDownDeck()\n    };\n\n    this.timer = 0;\n    this.drop = this.drop.bind(this);\n    this.addCardToPile = this.addCardToPile.bind(this);\n    this.removeCardFromPile = this.removeCardFromPile.bind(this);\n    this.createCardsView = this.createCardsView.bind(this);\n    this.drawCard = this.drawCard.bind(this);\n    this.createFoundationView = this.createFoundationView.bind(this);\n\n    this.startGame();\n  }\n\n  createCard(cardDetail, index, pileIndex) {\n    return (\n      <Card\n        suit={cardDetail.suit}\n        value={cardDetail.value}\n        colorClass={cardDetail.color}\n        display={cardDetail.display}\n        key={cardDetail.key}\n        onDrag={this.removeCardFromPile}\n        pileIndex={pileIndex}\n        cardIndex={index}\n      />\n    );\n  }\n\n  createCardsView(cards, pileIndex) {\n    if (cards.length === 0) return;\n    cards[cards.length - 1].display = true;\n    return cards.map((card, index) => this.createCard(card, index, pileIndex));\n  }\n\n  createWastePileView(pileIndex) {\n    return (\n      <div className=\"waste-pile-section\">\n        <div\n          className=\"waste-pile\"\n          id={pileIndex}\n          onDragOver={this.addCardToPile}\n          onDrop={this.drop}\n        >\n          {this.createCardsView(this.state.wastePiles[pileIndex], pileIndex)}\n        </div>\n      </div>\n    );\n  }\n\n  createFoundationView(foundationIndex) {\n    return (\n      <div\n        className=\"foundation\"\n        id={`foundation-f${foundationIndex}`}\n        onDragOver={this.addCardToPile}\n        onDrop={this.drop}\n      >\n        {this.createCardsView(\n          this.state.foundations[foundationIndex],\n          'f' + foundationIndex\n        )}\n      </div>\n    );\n  }\n\n  refillDeck() {\n    this.setState(state => {\n      state.faceDownDeck = state.drawnCards.slice().reverse();\n      state.drawnCards = [];\n      return state;\n    });\n  }\n\n  drawCard() {\n    if (this.state.faceDownDeck.length === 0) {\n      this.refillDeck();\n      return;\n    }\n\n    this.setState(state => {\n      state.drawnCards.push(state.faceDownDeck.pop());\n      return state;\n    });\n  }\n\n  removeCardFromPile(event) {\n    event.dataTransfer.setData('card', event.target.id);\n  }\n\n  addCardToPile(event) {\n    event.preventDefault();\n  }\n\n  handleDragAcrossPiles(sourcePile, destinationPile, sourceCardIndex) {\n    this.setState(state => {\n      const movedCards = sourcePile.splice(sourceCardIndex);\n      movedCards.forEach(card => destinationPile.push(card));\n      return state;\n    });\n  }\n\n  drop(event) {\n    event.preventDefault();\n    const sourceCardId = event.dataTransfer.getData('card');\n    const [, , sourceCardIndex, sourcePileIndex] = sourceCardId.split('-');\n    const destinationId = event.target.id;\n    const destinationPileIndex = destinationId.split('-').pop();\n\n    const sourcePile = this.getPileByIndex(sourcePileIndex);\n    const destinationPile = this.getPileByIndex(destinationPileIndex);\n\n    if (\n      !isValidDrag(\n        sourcePile,\n        destinationPile,\n        sourceCardIndex,\n        destinationPileIndex\n      )\n    )\n      return;\n\n    this.handleDragAcrossPiles(sourcePile, destinationPile, sourceCardIndex);\n  }\n\n  getPileByIndex(pileIndex) {\n    if (!isNaN(pileIndex)) return this.state.wastePiles[pileIndex];\n\n    if (/deck/.test(pileIndex)) return this.state.drawnCards;\n\n    if (/f/.test(pileIndex)) return this.state.foundations[pileIndex[1]];\n  }\n\n  startGame() {\n    const timerId = setInterval(() => {\n      this.timer++;\n\n      if (this.hasGameEnd()) {\n        clearInterval(timerId);\n        this.setState({ hasGameEnded: true });\n      }\n    }, 1000);\n  }\n\n  hasGameEnd() {\n    return this.state.foundations.every(foundation => foundation.length === 13);\n  }\n\n  render() {\n    if (this.state.hasGameEnded) {\n      return (\n        <main>\n          <div className=\"end-game\">\n            <h1>Congratulations !!!</h1>\n            <p>You took {this.timer / 60} minutes to finish the game.</p>\n            <p>Wanna play again ?</p>\n            <h3>\n              <a\n                href=\"https://swagatachakraborty.github.io/Solitaire-card-game/\"\n                className=\"btn\"\n              >\n                PLAY\n              </a>\n            </h3>\n          </div>\n        </main>\n      );\n    }\n\n    return (\n      <main>\n        <div className=\"foundation-and-deck-section\">\n          <div className=\"deck-section\">\n            <div className=\"face-down-deck\" onClick={this.drawCard} />\n            <div className=\"drawn-card-section\">\n              {this.createCardsView(this.state.drawnCards, 'deck')}\n            </div>\n          </div>\n\n          <div className=\"foundation-section\">\n            {this.createFoundationView(0)}\n            {this.createFoundationView(1)}\n            {this.createFoundationView(2)}\n            {this.createFoundationView(3)}\n          </div>\n        </div>\n\n        <div className=\"separator\" />\n\n        <div className=\"waste-pile-section\">\n          <div className=\"place-holder\">{this.createWastePileView(0)}</div>\n          <div className=\"place-holder\">{this.createWastePileView(1)}</div>\n          <div className=\"place-holder\">{this.createWastePileView(2)}</div>\n          <div className=\"place-holder\">{this.createWastePileView(3)}</div>\n          <div className=\"place-holder\">{this.createWastePileView(4)}</div>\n          <div className=\"place-holder\">{this.createWastePileView(5)}</div>\n          <div className=\"place-holder\">{this.createWastePileView(6)}</div>\n        </div>\n      </main>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}